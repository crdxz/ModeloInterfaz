<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Candidatos</title>
    <link rel="icon" type="image/png" href="favIcon.png">

    <!-- Boostrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    <!-- icons -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!-- Custom css -->
    <link rel="stylesheet" href="/styles/main.css">
</head>

<body>
    <div class="d-flex">
        <div class="container cont">
            <div class="titulo d-flex">
                <h1 class="text-dark">BASE DE DATOS (CANDIDATOS)</h1>
                <a href="/addCandidato" class="css-button-3d--blue">Añadir candidato</a>
            </div>

            <table class="table table-bordered table-striped text-center mt-4">
                <thead>
                    <tr class="bg-primary text-white">
                        <th scope="col">Email</th>
                        <th scope="col">Tipo</th>
                        <th scope="col">Documento</th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Fecha Nacimiento</th>
                    </tr>
                </thead>
                <tbody>
                    <% response.forEach((data)=>{ %>
                        <tr>
                            <td>
                                <%= data.USUARIO %>
                            </td>
                            <td>
                                <%= data.IDTIPODOC %>
                            </td>
                            <td>
                                <%= data.NDOC %>
                            </td>
                            <td>
                                <%= data.NOMBRE %>
                                    <%= data.APELLIDO %>
                            </td>
                            <td>
                                <script>
                                    // Función para formatear la fecha en formato día/mes/año
                                    function formatFecha(fecha) {
                                        var fechaObj = new Date(fecha);
                                        var dia = fechaObj.getDate();
                                        var mes = fechaObj.getMonth() + 1; // Sumar 1 porque los meses empiezan en 0
                                        var año = fechaObj.getFullYear();

                                        // Agregar ceros a la izquierda si es necesario
                                        dia = dia < 10 ? '0' + dia : dia;
                                        mes = mes < 10 ? '0' + mes : mes;

                                        // Devolver la fecha formateada como una cadena
                                        return dia + '/' + mes + '/' + año;
                                    }

                                    // Mostrar la fecha formateada en la tabla
                                    document.write(formatFecha("<%= data.FECHANAC %>"));
                                </script>
                            </td>
                        </tr>
                        <% }); %>
                </tbody>
            </table>
        </div>
    </div>
    <!-- Boostrap js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <!-- custom js -->
</body>

</html>